<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-09-19T18:50:00.000Z" agent="5.0" etag="drawio" version="22.0.0" type="device">
  <diagram name="BMC AWS Infrastructure" id="infrastructure">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- AWS Cloud -->
        <mxCell id="aws-cloud" value="AWS Cloud - us-east-1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="50" width="1500" height="1100" as="geometry" />
        </mxCell>
        
        <!-- VPC -->
        <mxCell id="vpc" value="VPC BMC (10.0.0.0/16)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;fontSize=14;fontStyle=1;" vertex="1" parent="aws-cloud">
          <mxGeometry x="50" y="50" width="1400" height="1000" as="geometry" />
        </mxCell>
        
        <!-- Public Subnets -->
        <mxCell id="public-subnet-1" value="Public Subnet 1a (10.0.1.0/24)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#2e7d32;" vertex="1" parent="vpc">
          <mxGeometry x="50" y="50" width="300" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="nat-gateway-1" value="NAT Gateway 1a&#10;&#10;• Internet Access&#10;• High Availability" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;" vertex="1" parent="public-subnet-1">
          <mxGeometry x="20" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="alb" value="Application Load Balancer&#10;&#10;• SSL Termination&#10;• Health Checks&#10;• Multi-AZ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;" vertex="1" parent="public-subnet-1">
          <mxGeometry x="160" y="40" width="120" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="public-subnet-2" value="Public Subnet 1b (10.0.2.0/24)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#2e7d32;" vertex="1" parent="vpc">
          <mxGeometry x="400" y="50" width="300" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="nat-gateway-2" value="NAT Gateway 1b&#10;&#10;• Internet Access&#10;• High Availability" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;" vertex="1" parent="public-subnet-2">
          <mxGeometry x="20" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="cloudfront-edge" value="CloudFront Edge&#10;&#10;• Global CDN&#10;• Cache Static Assets&#10;• DDoS Protection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;" vertex="1" parent="public-subnet-2">
          <mxGeometry x="160" y="40" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Private Subnets - Application Tier -->
        <mxCell id="private-app-1" value="Private App Subnet 1a (10.0.10.0/24)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;" vertex="1" parent="vpc">
          <mxGeometry x="50" y="300" width="650" height="250" as="geometry" />
        </mxCell>
        
        <mxCell id="ecs-cluster" value="ECS Fargate Cluster&#10;BMC-Microservices&#10;&#10;• Auto Scaling&#10;• Service Discovery&#10;• Load Balancing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;" vertex="1" parent="private-app-1">
          <mxGeometry x="20" y="40" width="150" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="invoice-task" value="Invoice Service&#10;Fargate Task&#10;&#10;• CPU: 2 vCPU&#10;• Memory: 4GB&#10;• Replicas: 3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;" vertex="1" parent="private-app-1">
          <mxGeometry x="200" y="40" width="120" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="product-task" value="Product Service&#10;Fargate Task&#10;&#10;• CPU: 4 vCPU&#10;• Memory: 8GB&#10;• Replicas: 5" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;" vertex="1" parent="private-app-1">
          <mxGeometry x="340" y="40" width="120" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="commission-task" value="Commission Service&#10;Fargate Task&#10;&#10;• CPU: 2 vCPU&#10;• Memory: 4GB&#10;• Replicas: 2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;" vertex="1" parent="private-app-1">
          <mxGeometry x="480" y="40" width="120" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="lambda-functions" value="Lambda Functions&#10;&#10;• OCR Processing&#10;• Certificate Generation&#10;• Notifications&#10;• Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#f57f17;" vertex="1" parent="private-app-1">
          <mxGeometry x="20" y="140" width="200" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="step-functions" value="Step Functions&#10;&#10;• Commission Workflow&#10;• Error Handling&#10;• State Management&#10;• Retry Logic" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#2e7d32;" vertex="1" parent="private-app-1">
          <mxGeometry x="240" y="140" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="api-gateway-private" value="API Gateway&#10;Private Endpoints&#10;&#10;• VPC Integration&#10;• Rate Limiting&#10;• API Keys" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;" vertex="1" parent="private-app-1">
          <mxGeometry x="440" y="140" width="160" height="80" as="geometry" />
        </mxCell>
        
        <!-- Private Subnets - Data Tier -->
        <mxCell id="private-data-1" value="Private Data Subnet 1a (10.0.20.0/24)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8eaf6;strokeColor=#3f51b5;" vertex="1" parent="vpc">
          <mxGeometry x="50" y="600" width="650" height="180" as="geometry" />
        </mxCell>
        
        <mxCell id="rds-primary" value="RDS PostgreSQL&#10;Primary Instance&#10;&#10;• db.r5.2xlarge&#10;• 60M Products&#10;• Multi-AZ&#10;• Encrypted" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8eaf6;strokeColor=#3f51b5;" vertex="1" parent="private-data-1">
          <mxGeometry x="20" y="40" width="150" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="redis-cluster" value="ElastiCache Redis&#10;Cluster Mode&#10;&#10;• cache.r6g.large&#10;• 2 Nodes&#10;• Failover Enabled&#10;• 24h TTL" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#f57f17;" vertex="1" parent="private-data-1">
          <mxGeometry x="200" y="40" width="150" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="elasticsearch-cluster" value="Elasticsearch&#10;3 Node Cluster&#10;&#10;• m5.large.elasticsearch&#10;• Product Search&#10;• Analytics&#10;• Kibana" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;" vertex="1" parent="private-data-1">
          <mxGeometry x="380" y="40" width="150" height="100" as="geometry" />
        </mxCell>
        
        <!-- Title -->
        <mxCell id="title" value="BMC - Infraestructura AWS Completa&#10;Arquitectura Multi-Tier con Alta Disponibilidad" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="10" width="400" height="60" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
