<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-09-19T18:45:00.000Z" agent="5.0" etag="drawio" version="22.0.0" type="device">
  <diagram name="BMC Container Diagram" id="container">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Frontend Layer -->
        <mxCell id="frontend-layer" value="ðŸŒ Capa Frontend" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#2e7d32;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="100" width="1300" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="web-app" value="ðŸ“± Web Application&#xa;React SPA&#xa;&#xa;â€¢ Formularios Carga&#xa;â€¢ Export PDF/Excel&#xa;â€¢ Dashboard Usuario" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;" vertex="1" parent="frontend-layer">
          <mxGeometry x="50" y="30" width="150" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="mobile-app" value="ðŸ“± Mobile App&#xa;React Native&#xa;&#xa;â€¢ Consultas RÃ¡pidas&#xa;â€¢ Notificaciones&#xa;â€¢ Estado Procesos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;" vertex="1" parent="frontend-layer">
          <mxGeometry x="250" y="30" width="150" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="admin-portal" value="ðŸ”§ Admin Portal&#xa;Management UI&#xa;&#xa;â€¢ ConfiguraciÃ³n Sistema&#xa;â€¢ Monitoreo&#xa;â€¢ GestiÃ³n Usuarios" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;" vertex="1" parent="frontend-layer">
          <mxGeometry x="450" y="30" width="150" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="cloudfront" value="ðŸŒ CloudFront CDN&#xa;&#xa;â€¢ DistribuciÃ³n Global&#xa;â€¢ Cache EstÃ¡tico&#xa;â€¢ SSL/TLS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;" vertex="1" parent="frontend-layer">
          <mxGeometry x="650" y="30" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- API Layer -->
        <mxCell id="api-layer" value="ðŸšª Capa API" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="250" width="1300" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="load-balancer" value="âš–ï¸ Application Load Balancer&#xa;&#xa;â€¢ DistribuciÃ³n Carga&#xa;â€¢ Health Checks&#xa;â€¢ SSL Termination" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;" vertex="1" parent="api-layer">
          <mxGeometry x="50" y="30" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="api-gateway" value="ðŸšª API Gateway&#xa;&#xa;â€¢ Enrutamiento Central&#xa;â€¢ Rate Limiting&#xa;â€¢ API Versioning" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;" vertex="1" parent="api-layer">
          <mxGeometry x="280" y="30" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="cognito" value="ðŸ” Amazon Cognito&#xa;&#xa;â€¢ AutenticaciÃ³n&#xa;â€¢ AutorizaciÃ³n RBAC&#xa;â€¢ MFA" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;" vertex="1" parent="api-layer">
          <mxGeometry x="510" y="30" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="waf" value="ðŸ›¡ï¸ AWS WAF&#xa;&#xa;â€¢ Web Application Firewall&#xa;â€¢ DDoS Protection&#xa;â€¢ Security Rules" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#d32f2f;" vertex="1" parent="api-layer">
          <mxGeometry x="740" y="30" width="180" height="80" as="geometry" />
        </mxCell>
        
        <!-- Microservices Layer -->
        <mxCell id="microservices-layer" value="âš™ï¸ Capa Microservicios" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="400" width="1300" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="invoice-service" value="ðŸ“„ Invoice Service&#xa;ECS Fargate&#xa;&#xa;â€¢ Procesamiento Facturas&#xa;â€¢ OCR Integration&#xa;â€¢ Batch Processing&#xa;â€¢ Business Rules" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;" vertex="1" parent="microservices-layer">
          <mxGeometry x="50" y="30" width="150" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="product-service" value="ðŸ·ï¸ Product Service&#xa;ECS Fargate&#xa;&#xa;â€¢ 60M Productos&#xa;â€¢ BÃºsqueda RÃ¡pida&#xa;â€¢ DIAN Classification&#xa;â€¢ Cache Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;" vertex="1" parent="microservices-layer">
          <mxGeometry x="230" y="30" width="150" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="ocr-service" value="ðŸ‘ï¸ OCR Service&#xa;Lambda Functions&#xa;&#xa;â€¢ Textract Integration&#xa;â€¢ >95% Accuracy&#xa;â€¢ Image/PDF Processing&#xa;â€¢ Quality Assurance" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;" vertex="1" parent="microservices-layer">
          <mxGeometry x="410" y="30" width="150" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="commission-service" value="ðŸ’° Commission Service&#xa;Step Functions&#xa;&#xa;â€¢ CÃ¡lculo Comisiones&#xa;â€¢ Reglas Negocio&#xa;â€¢ Workflow Management&#xa;â€¢ Audit Trail" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;" vertex="1" parent="microservices-layer">
          <mxGeometry x="590" y="30" width="150" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="certificate-service" value="ðŸ“œ Certificate Service&#xa;Lambda Functions&#xa;&#xa;â€¢ PDF Generation&#xa;â€¢ Email Delivery&#xa;â€¢ Template Management&#xa;â€¢ Digital Signatures" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#2e7d32;" vertex="1" parent="microservices-layer">
          <mxGeometry x="770" y="30" width="150" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="validation-service" value="âœ… Validation Service&#xa;Lambda Functions&#xa;&#xa;â€¢ Two-Layer Validation&#xa;â€¢ DIAN Compliance&#xa;â€¢ Data Quality&#xa;â€¢ Error Handling" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#f57f17;" vertex="1" parent="microservices-layer">
          <mxGeometry x="950" y="30" width="150" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="notification-service" value="ðŸ“§ Notification Service&#xa;Lambda Functions&#xa;&#xa;â€¢ Email Alerts&#xa;â€¢ SMS Notifications&#xa;â€¢ Status Updates&#xa;â€¢ Event Publishing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e0f2f1;strokeColor=#00695c;" vertex="1" parent="microservices-layer">
          <mxGeometry x="1130" y="30" width="150" height="120" as="geometry" />
        </mxCell>
        
        <!-- Data Layer -->
        <mxCell id="data-layer" value="ðŸ’¾ Capa de Datos" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="630" width="1300" height="150" as="geometry" />
        </mxCell>
        
        <mxCell id="rds" value="ðŸ—„ï¸ RDS PostgreSQL&#xa;Multi-AZ&#xa;&#xa;â€¢ 60M Productos&#xa;â€¢ Datos Transaccionales&#xa;â€¢ Backup AutomÃ¡tico&#xa;â€¢ Performance Insights" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8eaf6;strokeColor=#3f51b5;" vertex="1" parent="data-layer">
          <mxGeometry x="50" y="30" width="180" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="redshift" value="ðŸ“Š Amazon Redshift&#xa;Data Warehouse&#xa;&#xa;â€¢ Analytics & Reportes&#xa;â€¢ ETL con Glue&#xa;â€¢ Columnar Storage&#xa;â€¢ Business Intelligence" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;" vertex="1" parent="data-layer">
          <mxGeometry x="280" y="30" width="180" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="redis" value="âš¡ ElastiCache Redis&#xa;Cluster Mode&#xa;&#xa;â€¢ Product Cache (24h TTL)&#xa;â€¢ Session Storage&#xa;â€¢ High Performance&#xa;â€¢ Auto Failover" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#f57f17;" vertex="1" parent="data-layer">
          <mxGeometry x="510" y="30" width="180" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="s3" value="ðŸ“¦ Amazon S3&#xa;Multiple Buckets&#xa;&#xa;â€¢ Document Storage&#xa;â€¢ Image/PDF Files&#xa;â€¢ Certificates&#xa;â€¢ Lifecycle Policies" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e0f2f1;strokeColor=#00695c;" vertex="1" parent="data-layer">
          <mxGeometry x="740" y="30" width="180" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="elasticsearch" value="ðŸ” Amazon Elasticsearch&#xa;&#xa;â€¢ Full-Text Search&#xa;â€¢ Product Indexing&#xa;â€¢ Analytics&#xa;â€¢ Kibana Dashboard" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;" vertex="1" parent="data-layer">
          <mxGeometry x="970" y="30" width="180" height="100" as="geometry" />
        </mxCell>
        
        <!-- External Integrations -->
        <mxCell id="external-layer" value="ðŸ”— Integraciones Externas" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#d32f2f;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="810" width="1300" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="sftp" value="ðŸ“ AWS Transfer Family&#xa;SFTP Gateway&#xa;&#xa;â€¢ Secure File Transfer&#xa;â€¢ External Systems&#xa;â€¢ Automated Processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;" vertex="1" parent="external-layer">
          <mxGeometry x="50" y="30" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="ses" value="ðŸ“§ Amazon SES&#xa;Email Service&#xa;&#xa;â€¢ Certificate Delivery&#xa;â€¢ Notifications&#xa;â€¢ Bounce Handling" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#2e7d32;" vertex="1" parent="external-layer">
          <mxGeometry x="280" y="30" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="dian-api" value="ðŸ›ï¸ DIAN API&#xa;External Integration&#xa;&#xa;â€¢ Classification Validation&#xa;â€¢ OAuth 2.0&#xa;â€¢ Rate Limited" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;" vertex="1" parent="external-layer">
          <mxGeometry x="510" y="30" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="textract" value="ðŸ¤– Amazon Textract&#xa;OCR Service&#xa;&#xa;â€¢ Document Analysis&#xa;â€¢ >95% Accuracy&#xa;â€¢ Forms & Tables" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;" vertex="1" parent="external-layer">
          <mxGeometry x="740" y="30" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="cloudwatch" value="ðŸ“Š CloudWatch&#xa;Monitoring&#xa;&#xa;â€¢ Metrics & Alarms&#xa;â€¢ Log Aggregation&#xa;â€¢ Performance Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;" vertex="1" parent="external-layer">
          <mxGeometry x="970" y="30" width="180" height="80" as="geometry" />
        </mxCell>
        
        <!-- Title -->
        <mxCell id="title" value="BMC - Diagrama de Contenedores (C4 Level 2)&#xa;Arquitectura AWS con Microservicios" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="20" width="400" height="60" as="geometry" />
        </mxCell>
        
        <!-- Key Connections (simplified for clarity) -->
        <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1565c0;" edge="1" parent="1" source="web-app" target="api-gateway">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#c2185b;" edge="1" parent="1" source="api-gateway" target="invoice-service">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1565c0;" edge="1" parent="1" source="product-service" target="redis">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#ef6c00;" edge="1" parent="1" source="ocr-service" target="textract">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
